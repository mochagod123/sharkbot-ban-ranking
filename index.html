<html>
    <head>
        <title>SharkBot Ban Ranking</title>
        <style>
            body {
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            padding: 30px;
            font-family: sans-serif;
            }

            .card {
            border: 1px solid #ccc;
            border-radius: 10px;
            padding: 15px 20px;
            background: #fff;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            text-align: center;
            }

            .rank {
            font-weight: bold;
            font-size: 1.2em;
            color: #f39c12;
            margin-bottom: 10px;
            }

            .content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            }

            .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            }

            .info {
            display: flex;
            flex-direction: column;
            align-items: center;
            }

            .name {
            font-weight: bold;
            }

            .text {
            color: #555;
            }

            button {
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
            text-decoration: none;
            color: #ffffff;
            font-size: 18px;
            border-radius: 5px;
            width: 200px;
            height: 40px;
            font-weight: bold;
            transition: 0.3s;
            background-color: #1976d2;
            }

            button:hover {
            opacity: .7;
            }
        </style>
        <meta name="twitter:title" content="SharkBot Ban Ranking" />
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:description" content="SharkBot„ÅÆBAN„É©„É≥„Ç≠„É≥„Ç∞">
        <meta name="twitter:image" content="https://mochagod123.github.io/sharkbot-ban-ranking/ban.png" />
    </head>
    <body>
        <div>
            <center>
                <h1>BAN„É©„É≥„Ç≠„É≥„Ç∞ (ÊúÄÂ§ß5000‰ª∂„ÅÆË°®Á§∫)</h1>
                <div id="ban_rank">
                </div>

                <button id="loadMore">üëá</button>
            </center>
        </div>
        <script>
            let banData = [];
            
            let displayIndex = 0;

            function get_data() {
                fetch("https://api.sharkbot.xyz/ranking/ban")
                    .then((response) => response.json())
                    .then((data) => {
                        banData = data.Data;
                        showNextFive();
                    });
            }

            function createCard(rankText, avatarUrl, name, content) {
                const card = document.createElement('div');
                card.className = 'card';

                const rank = document.createElement('div');
                rank.className = 'rank';
                rank.textContent = rankText;

                const contentDiv = document.createElement('div');
                contentDiv.className = 'content';

                const avatar = document.createElement('img');
                avatar.className = 'avatar';
                avatar.src = avatarUrl;
                avatar.alt = '„Ç¢„Éê„Çø„Éº';

                const info = document.createElement('div');
                info.className = 'info';

                const nameDiv = document.createElement('div');
                nameDiv.className = 'name';
                nameDiv.textContent = name;

                const textDiv = document.createElement('div');
                textDiv.className = 'text';
                textDiv.textContent = content;

                info.appendChild(nameDiv);
                info.appendChild(textDiv);

                contentDiv.appendChild(avatar);
                contentDiv.appendChild(info);

                card.appendChild(rank);
                card.appendChild(contentDiv);

                return card;
            }
            function showNextFive() {
                const keys = Object.keys(banData);
                const container = document.getElementById("ban_rank");

                const nextItems = keys.slice(displayIndex, displayIndex + 5);
                nextItems.forEach((key) => {
                    const user = banData[key];
                    let cardElement;

                    if (user.UserID == user.Name) {
                        cardElement = createCard(`${key}‰Ωç`, user.Avatar, `${user.Name}`, `${user.Count}Âõû`);
                    } else {
                        cardElement = createCard(`${key}‰Ωç`, user.Avatar, `${user.Name}(${user.UserID})`, `${user.Count}Âõû`);
                    }

                    container.appendChild(cardElement);
                });

                displayIndex += 5;

                if (displayIndex >= keys.length) {
                    document.getElementById("loadMore").style.display = "none";
                }
            }

            document.getElementById("loadMore").addEventListener("click", showNextFive);

            document.getElementById("loadMore").disabled = "disabled";

            setTimeout(function() {
                get_data();
                document.getElementById("loadMore").disabled = null;
            }, 5000);
        </script>
    </body>
</html>